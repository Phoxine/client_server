# Client-Server Application

## System Architecture
1. client-server
2. postgres  
3. pgweb

## Project Structure

```
.
├── cmd/
│   └── server/                 # Main application entry point
│       ├── main.go             # Server startup
│       ├── wire.go             # Dependency injection setup
│       └── wire_gen.go         # Dependency wiring (generated by wire)
│
├── internal/
│   ├── domain/                 # Core business logic
│   │   ├── shared/             # general constants between domains
│   │   ├── transactions/       # Transaction domain
│   │   └── users/              # User domain
│   │
│   └── infrastructure/         # Infrastructure implementations
│       ├── api/                # API layer
│       │   └── rest/           # REST API implementation
│       │       ├── handler/    # Request handlers (endpoints)
│       │       ├── middleware/ # Middleware
│       │       ├── routes.go   # Routes
│       │       └── server.go   # Server setup
│       │
│       ├── persistance/        # Data persistence
│       │   ├── transactions/   # Transaction persistence
│       │   └── users/          # User persistence
│       │
│       └── shared/             # Shared infrastructure
│           └── database/       # Database connection
│
├── pkg/                        # Shared packages
│   ├── config/                 # Configuration
│   ├── http/                   # HTTP utilities
│   ├── jwt/                    # JWT handling
│   └── logger/                 # Logging
│
├── migrations/                 # Database migrations
└── docs/                       # API documentation
```

## Getting Started

### Start server
```bash
make up
```
you can see the swagger docs at http://localhost:1323/swagger//index.html
### Create Migrations
```bash
make migrations FILE=your_migration_file_name
```

Using [golang-migrate](https://github.com/golang-migrate/migrate?tab=readme-ov-file)

You have to install golang-migrate first. See more at [migrate CLI](https://github.com/golang-migrate/migrate/tree/master/cmd/migrate)

### Migrate
```bash
make migrate
```

### Migrate Down
```bash
make migrate-down
```

## Development

### Wire
```bash
make wire
```
You have to install wire first. See more at [wire CLI](https://github.com/google/wire)

### Lint
```bash
make lint
```

### Test
```bash
make test
